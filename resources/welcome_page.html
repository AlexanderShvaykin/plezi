<!DOCTYPE html><head><title>appname - Feed Me!</title>
<link href='http://fonts.googleapis.com/css?family=Shadows+Into+Light|Architects+Daughter' rel='stylesheet' type='text/css'>

<link href="https://fonts.googleapis.com/css?family=Architects+Daughter" rel="stylesheet" type="text/css">
<style type="text/css">
/*
med-blue: #44518E
dark-gray: #424A70
blue: #1B2864
light-blue: #818ECE
light-gray: #99A3CE
*/
body, html
{
    background-color: #99A3CE;
    padding: 0; margin: 0;
    width: 100%;
    font-size: 1em;
}

h1
{
    font-family: 'Indie Flower', cursive;
    background-color: #1B2864;
    color: #99A3CE;
    text-align: center;
    border-bottom: 5px solid #424A70;
    margin: 0 0 1em 0;
    padding: 0.5em 0;
    width: 100%;

}
h2
{
    background-color: #44518E;
    color: #C6CCE7;
    text-align: left;
    margin: 0 0 1em 0;
    padding: 0.5em 5%;
    border-radius: 20px 20px 0 0;
    font-family: 'Shadows Into Light', cursive;
}
h3
{
    font-family: 'Shadows Into Light', cursive;    
    background-color: #44518E;
    color: #C6CCE7;
    text-align: left;
    margin: 0 0 1em 0;
    padding: 0.5em 5%;
    border-radius: 1em 1em 0 0;
}
h2:before {
  content: "|||";
  color: #99A3CE;
  padding-right: 0.3em;
  margin-left: -1.5em;
}
h3:before {
  content: "|||||";
  color: #99A3CE;
  padding-right: 0.3em;
  margin-left: -2em;
}
h1 a, h2 a, h3 a
{
    color: #EBCD86;
}
h1 a:hover, h2 a:hover, h3 a:hover
{
    color: #EBD7A6;
}
p
{
    font-size: 1em;
    padding: 0 1em;
    margin: 0.5em 0;        
}
a
{
    color: #D0AC54;
    text-decoration: none;
}
a:hover
{
    color: #927121;
    text-decoration: underline;
}
#wrapper
{
    background-color: #fff;
    margin: 1em 5%;
    padding: 0 0 2%;
    border-radius: 20px;
    min-height: 50%;
    color: #007;
}

#wrapper p{ padding: 0 2%;}
.bold { font-weight: bold; }
#wrapper ol li{ padding: 0 2%;}
pre
{
    border-radius: 20px;
    padding: 0.5em 0;
    background-color: #444;
    color: #ddd;
}
input[type=text]
{
    width: 60%;
    display: inline-block;
}

</style>
<script type="text/javascript">
// Your websocket URI should be an absolute path. The following sets the base URI.
var ws_uri = 'ws://' + window.location.hostname + (window.location.port == '' ? '' : (':' + window.location.port) );
// remember to add the specific controller's path to your websocket URI.
ws_uri += "/";
// websocket variable.
var websocket = NaN
// count failed attempts
var websocket_fail = 0

function init_websocket()
{
    websocket = new WebSocket(ws_uri);
    websocket.onopen = function(e) {
        //restart fail count
        websocket_fail = 0
        // what do you want to do now?
        var msg = document.createElement("li");
        msg.innerHTML = "Connected.";
        document.getElementById("output").appendChild(msg);
    };

    websocket.onclose = function(e) {
        // what do you want to do now?
        if(websocket_fail == 0) {
            var msg = document.createElement("li");
            msg.innerHTML = "Disconnected.";
            document.getElementById("output").appendChild(msg);
        };
        // you probably want to reopen the websocket if it closes (unless the issue repeats).
        if(websocket_fail <= 5) {websocket_fail += 1; init_websocket(); };
    };
    websocket.onerror = function(e) {
        // what do you want to do now?
    };
    websocket.onmessage = function(e) {
        // what do you want to do now?
        console.log(e.data);
        var msg = document.createElement("li");
        msg.innerHTML = e.data;
        document.getElementById("output").appendChild(msg);
        // to use JSON, use:
        // msg = JSON.parse(e.data); // remember to use JSON also in your Plezi controller.
    };
}
window.addEventListener("load", init_websocket, false); 
function send_text()
{
    var msg = document.getElementById("input").value;
    document.getElementById("input").value = '';
    websocket.send(msg);
    return false;
}
</script>
</head>
<body>
    <h1>Welcome to  <a href="https://github.com/boazsegev/plezi">Plezi</a></h1>
    <div id="wrapper">
        <h2>Congratulations, <a href='/'>appname</a> is running - What's next?</h2>
        <p><span class="bold">Congratulations</span>, you're now running appname and it has so much potential!</p>
        <p>appname started out <a href="https://github.com/boazsegev/plezi">Plezi</a> and it's your quest to feed it your code and make sure appname grows strong and happy.</p>
        <p>You're the master of this quest, and your next steps might include:</p>
        <ol><li><p class="bold">Deciding which gems to use:</p>
            <ul>
                <li>edit Gemfile in the appname folder.</li>
            </ul>
        </li>
        <li>
            <p class="bold">Reviewing the sample code and feeding <a href="https://github.com/boazsegev/plezi">Plezi</a> your code:</p>
            <ul>
                <li>Review the 'sample_controller.rb' file in the appname/app/controllers folder.</li>
                <li>Delete the 'sample_controller.rb' file and this file (appname/assets/welcome.html).</li>
                <li>Write your own controller and code.</li>
                <li>Edit the 'routes.rb' file to set up your routes.</li>
            </ul>
        </li>
        <li>
            <p><span class="bold">Having fun</span> and submitting any issues you discover to the <a href="https://github.com/boazsegev/plezi">Plezi Github Project.</a></p>
        </li>
    </ol>
    <p class="bold">Good Luck!</p>
    <h3> Did you try our websocket broadcast? </h3>
    <p>Your appname app can send <span class="bold">WebSocket</span> broadcasts (and unicasts). Why not try them out? You can even try them across multiple windows.</p>
    <form onsubmit='send_text(); return false;'>
        <p>Broadcast: <input type='text' id='input' /> <input type='submit' /> </p>
        <ul id='output'>
        </ul>
    </form>
    

</div>
</body>